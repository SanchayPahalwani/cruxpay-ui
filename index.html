<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Cruxpay Setup</title>
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="build/css/setup.min.css">
    <style>
        :root {
            --mdc-theme-secondary: #736df8;
        }
    </style>
</head>

<body>

    <div class="setup">
        <div class="mdc-card mdc-card--outlined">
			<div class="setup-close">
				<button data-mdc-ripple-is-unbounded="" id="closeSetup"
						class="mdc-icon-button material-icons mdc-ripple-upgraded--unbounded mdc-ripple-upgraded setup-close_button"
						title="Close">
					close
				</button>
			</div>
            <div class="setup-card cs-hide" id="registration">
                <div class="setup-card__form">
                    <div class="setup-card__brand">CruxPay</div>
                    <div class="setup-card__headline">Create your CruxPay Account</div>
                    <div class="setup-card__body">Continue to CruxPay</div>

                    <form autocomplete="off">
                        <input autocomplete="false" name="hidden" type="text" style="display:none;">
                        <div class="text-field-container">
                            <div class="mdc-text-field mdc-text-field--outlined cruxpay-id__container">
                                <input class="mdc-text-field__input" id="cruxpayId" type="text">
                                <div class="mdc-notched-outline">
                                    <div class="mdc-notched-outline__leading"></div>
                                    <div class="mdc-notched-outline__notch">
                                        <label for="text-field-hero-input" class="mdc-floating-label">CruxPay ID</label>
                                    </div>
                                    <div class="mdc-notched-outline__trailing">
                                        <div class="id-status">
                                            .curxpay.id
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mdc-text-field-helper-line">
                                <p class="mdc-text-field-helper-text mdc-text-field-helper-text--persistent mdc-text-field-helper-text--validation-msg"
                                    id="cruxpay-id__helper-text">Enter a unique user id</p>
                            </div>
                        </div>

                        <div class="text-field-container">
                            <div class="mdc-text-field mdc-text-field--outlined cruxpay-password__container">
                                <input class="mdc-text-field__input" id="cruxpayPassword" type="password">
                                <div class="mdc-notched-outline">
                                    <div class="mdc-notched-outline__leading"></div>
                                    <div class="mdc-notched-outline__notch">
                                        <label for="text-field-hero-input" class="mdc-floating-label">Password</label>
                                    </div>
                                    <div class="mdc-notched-outline__trailing"></div>
                                </div>
                            </div>
                            <div class="mdc-text-field-helper-line">
                                <p class="mdc-text-field-helper-text mdc-text-field-helper-text--persistent mdc-text-field-helper-text--validation-msg"
                                    id="cruxpay-password__helper-text">Use 8 or more characters with a mix of letters,
                                    numbers & symbols</p>
                            </div>
                            <div class="validation-rules">
                                <div class="rule rule-isInvalid" id="validation-charLen">
                                    <i class="material-icons icon-invalid">
                                        clear
                                    </i>
                                    <i class="material-icons icon-valid">
                                        done
                                    </i>
                                    <span>Must be 8 or more characters</span>
                                </div>
                                <div class="rule rule-isInvalid" id="validation-sameAsId">
                                    <i class="material-icons icon-invalid">
                                        clear
                                    </i>
                                    <i class="material-icons icon-valid">
                                        done
                                    </i>
                                    <span>Should not be similar to CruxPay Id</span>
                                </div>
                                <div class="rule rule-isInvalid" id="validation-digit">
                                    <i class="material-icons icon-invalid">
                                        clear
                                    </i>
                                    <i class="material-icons icon-valid">
                                        done
                                    </i>
                                    <span>Must have atleast one number</span>
                                </div>
                                <div class="rule rule-isInvalid" id="validation-lowercase">
                                    <i class="material-icons icon-invalid">
                                        clear
                                    </i>
                                    <i class="material-icons icon-valid">
                                        done
                                    </i>
                                    <span>Must have atleast one lowercase letter</span>
                                </div>
                                <div class="rule rule-isInvalid" id="validation-uppercase">
                                    <i class="material-icons icon-invalid">
                                        clear
                                    </i>
                                    <i class="material-icons icon-valid">
                                        done
                                    </i>
                                    <span>Must have atleast one lowercase uppercase letter</span>
                                </div>
                                <div class="rule rule-isInvalid" id="validation-specialCharater">
                                    <i class="material-icons icon-invalid">
                                        clear
                                    </i>
                                    <i class="material-icons icon-valid">
                                        done
                                    </i>
                                    <span>Must have atleast one special characters</span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="setup-card__description">
                    <img src="./images/mobile-pay.svg" width="250" />
                    <div class="setup__footer">
                        <button class="mdc-button mdc-button--raised mdc-crux-action" id="createId" type="button">
                            <span>Create ID</span>
                            <span class="donut"></span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="customisation cs-hide" id="customisation">
                <div class="customisation__selection">
                    <div class="customisation__brand">CruxPay</div>
                    <div class="customisation__headline">Select Currencies</div>
                    <form class="customisation__search" autocomplete="off">
                        <input autocomplete="false" name="hidden" type="text" style="display:none;">
                        <div class="mdc-text-field mdc-text-field--outlined mdc-text-field--with-trailing-icon">
                            <i class="material-icons mdc-text-field__icon">search</i>
                            <input class="mdc-text-field__input" id="cruxSearchCur">
                            <div class="mdc-notched-outline">
                                <div class="mdc-notched-outline__leading"></div>
                                <div class="mdc-notched-outline__notch">
                                    <label for="cruxSearchCur" class="mdc-floating-label">Search
                                        Currencies</label>
                                </div>
                                <div class="mdc-notched-outline__trailing"></div>
                            </div>
                        </div>
                    </form>
                    <div class="customisation__radio-select">

                    </div>
                    <div class="customisation__currency-list" id="currencyContainer">

                    </div>
                </div>
                <div class="customisation__description">
                    <div class="customisation__description-id">
                        <div class="description-heading">
                            Your CruxPay Id
                        </div>
                        <div class="description-id" id="cruxpayIdName">

                        </div>
                    </div>
                    <div class="customisation__selected-currencies">
                        <div class="description-heading">
                            Public Currencies
                        </div>
                        <div class="customisation__selected-currencies-list" id="selectedCurContainer">

                        </div>
                    </div>
                    <div class="setup__footer">
                        <button class="mdc-button mdc-button--raised mdc-crux-action" id="updateCustomization"
                            type="button">
                            <span>Save</span>
                            <span class="donut"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        window.walletInfo;
        window.addEventListener('message', function (event) {
        window.walletInfo = JSON.parse(event.data);
        if(window.walletInfo.type == 'register'){
            if(window.walletInfo.encryptionKey){
                window.encryptionKey = window.walletInfo.encryptionKey;
            }
        }
    }, false);
    </script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

    <script src="http://127.0.0.1:8777/dist/openpay-dom.js"></script>
    <script src="http://127.0.0.1:8777/dist/openpay-setup/build/js/setup.min.js"></script>
</body>

</html>
