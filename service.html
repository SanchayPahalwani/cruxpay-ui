<!DOCTYPE html>
<html lang="en">

<head>
    <title>Pay with Openpay</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--===============================================================================================-->
    <script src="https://npmcdn.com/vue/dist/vue.js"></script>
    <script src="http://127.0.0.1:8777/dist/openpay-dom.js"></script>
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/util.css">
    <link rel="stylesheet" type="text/css" href="css/service.css">


    <!--===================== Material Assets =====================================-->
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>

    <!--===================== Fonts & Icons =====================================-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">


    <!--===================== Author Styles =====================================-->
    <link rel="stylesheet" type="text/css" href="css/openpay.css">
</head>

<body>
    <div id="app" class="openpay">
        <!-- <div class="mdc-card mdc-card--outlined">
		<div id="overlay" v-if="show_overlay"></div>
		<h5 class="card-header">Send Payment Request</h5>
		<div class="card-body">
			<form>
				<div class="form-group">
					<label for="openpay_id">ENTER YOUR OPENPAY ID</label>
					<input type="text" v-model="user_data.openpay_id" class="form-control" id="openpay_id" placeholder="Enter your OpenPay Id" pattern=".+@.+" title="Please enter a valid OpenPay Id of the form username@wallet.id" >
				</div>
				<div class="form-group">
					<label for="openpay_password">PASSWORD</label>
					<input type="password" v-model="user_data.openpay_password" class="form-control" id="openpay_password" placeholder="Password">
				</div>
				<div class="form-check">
					<input type="checkbox" v-model="user_data.authenticate_long" class="form-check-input" id="authenticate_long">
					<label class="form-check-label" for="authenticate_long">Authenticate for 30 days</label>
				</div>
			</form>
		</div>
		<div class="card-footer text-center">
			<button id="send-payment-request" v-on:click="send_payment_request" type="submit" class="btn btn-primary">
				Send Payment Request
			</button>
		</div>
		<div id="block-message" class="text-center" v-if="show_overlay">
			<div id="block-message-text">
				{{ current_block_message_text }}
			</div>
			<div class="spin" style="margin: 0 auto;" v-if="show_loader">
				<div></div>
				<div></div>
			</div>
			<button id="retry-button" v-if="show_retry_button" v-on:click="retry" class="btn btn-danger">
				Retry
			</button>
		</div>
	</div> -->
        <div class="mdc-card mdc-card--outlined openpay__container">
            <form class="openpay__send-request">
                <div class="openpay__brand">
                    OpenPay
                </div>
                <div class="openpay__title">
                    Authenticate with your OpenPay ID
                </div>

                <div class="mdc-text-field mdc-text-field--outlined mdc-text-field--with-trailing-icon">
                    <i class="material-icons mdc-text-field__icon">perm_identity</i>
                    <input class="mdc-text-field__input" id="openpay-id" v-model="user_data.openpay_id">
                    <div class="mdc-notched-outline">
                        <div class="mdc-notched-outline__leading"></div>
                        <div class="mdc-notched-outline__notch">
                            <label for="text-field-hero-input" class="mdc-floating-label">OpenPay ID</label>
                        </div>
                        <div class="mdc-notched-outline__trailing"></div>
                    </div>
                </div>

                <div class="mdc-text-field mdc-text-field--outlined mdc-text-field--with-trailing-icon">
                    <i class="material-icons mdc-text-field__icon">lock</i>
                    <input class="mdc-text-field__input" id="openpay-password" type="password" v-model="user_data.openpay_password">
                    <div class="mdc-notched-outline">
                        <div class="mdc-notched-outline__leading"></div>
                        <div class="mdc-notched-outline__notch">
                            <label for="text-field-hero-input" class="mdc-floating-label">Password</label>
                        </div>
                        <div class="mdc-notched-outline__trailing"></div>
                    </div>
                </div>

                <div class="openpay__footer">
                    <button class="mdc-button mdc-button--raised no-focus" type="button" @click="send_payment_request">Authenticate</button>
                </div>

            </form>
        </div>
    </div>

    <script src="js/service.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            window.initVue();
            const textFields = document.querySelectorAll('.mdc-text-field');
            for (const textField of textFields) {
                mdc.textField.MDCTextField.attachTo(textField);
            }
        });
    </script>
</body>

</html>