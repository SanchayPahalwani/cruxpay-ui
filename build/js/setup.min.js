"use strict";$(document).ready(function(){var e=document.querySelectorAll(".mdc-text-field"),t=!0,a=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var n=s.value;mdc.textField.MDCTextField.attachTo(n)}}catch(e){a=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(a)throw r}}var l={input:$("#cruxpayId"),inputParent:$(".cruxpay-id__container"),helperText:$("#cruxpay-id__helper-text"),parentContainer:$(".cruxpay-id__container").parent(),displayError:function(e){this.helperText.removeClass("helper-text--success"),this.inputParent.addClass("mdc-text-field--invalid"),this.parentContainer.addClass("has-error"),this.helperText.html(e)},displaySuccess:function(e){l.inputParent.removeClass("mdc-text-field--invalid"),l.helperText.addClass("helper-text--success"),l.parentContainer.removeClass("has-error"),l.helperText.html(e)},displayHelpText:function(e){l.helperText.removeClass("helper-text--success"),l.inputParent.removeClass("mdc-text-field--invalid"),l.parentContainer.removeClass("has-error"),l.helperText.html(e)}},o=null;l.input.on("keyup",function(e){l.displayHelpText("Checking availability"),clearTimeout(o),o=setTimeout(function(){e.target.value&&0<e.target.value.length&&function(r){$.ajax({type:"GET",url:"https://167.71.234.131:3000/status/".concat(r),success:function(e){l.displayError("".concat(r," is unavailable"))},error:function(e,t,a){404==e.status&&l.displaySuccess("".concat(r," is available"))}})}(e.target.value)},500)});var u={input:$("#cruxpayPassword"),helperText:$("#cruxpay-password__helper-text"),inputParent:$(".cruxpay-password__container"),parentContainer:$(".cruxpay-password__container").parent(),validation:{isValid:function(e){return/^[a-zA-Z0-9$@!#^&%_-]{8,50}$/.test(String(e).toLowerCase())},containsId:function(e){return e===l.input.val()},hasDigit:function(e){return/[0-9]/.test(e)},hasLowerCase:function(e){return/[a-z]/.test(e)},hasUpperCase:function(e){return/[A-Z]/.test(e)},hasSpecialCharacter:function(e){return/(?=.*[!#$%&?@"])/.test(e)}},displayError:function(e){this.helperText.removeClass("helper-text--success"),this.inputParent.addClass("mdc-text-field--invalid"),this.parentContainer.addClass("has-error"),this.helperText.html(e)},clearAllError:function(){this.helperText.addClass("helper-text--success"),this.inputParent.removeClass("mdc-text-field--invalid"),this.parentContainer.removeClass("has-error"),this.helperText.html("")}};u.input.on("keyup",function(e){if(e.target.value&&0<e.target.value.length){var t=e.target.value;u.validation.isValid(t)?u.validation.containsId(t)?u.displayError("Password must be different from CruxPay ID"):u.validation.hasDigit(t)?u.validation.hasLowerCase(t)?u.validation.hasUpperCase(t)?u.validation.hasSpecialCharacter(t)?u.clearAllError():u.displayError("Password must be have atleast one of following special characters !,#,$,%,&,?,@ are allowed"):u.displayError("Password must be have atleast one uppercase letter"):u.displayError("Password must be have atleast one lowercase letter"):u.displayError("Password must be have atleast one number"):u.displayError("Minimum length required is 8. Only following special characters !,#,$,%,&,?,@ are allowed")}})});