"use strict";$(document).ready(function(){var e=document.querySelectorAll(".mdc-text-field"),a=!0,t=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var l=i.value;mdc.textField.MDCTextField.attachTo(l)}}catch(e){t=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(t)throw r}}var n={input:$("#cruxpayId"),inputParent:$(".cruxpay-id__container"),helperText:$("#cruxpay-id__helper-text"),parentContainer:$(".cruxpay-id__container").parent(),displayError:function(e){this.helperText.removeClass("helper-text--success"),this.inputParent.addClass("mdc-text-field--invalid"),this.parentContainer.addClass("has-error"),this.helperText.html(e)},displaySuccess:function(e){n.inputParent.removeClass("mdc-text-field--invalid"),n.helperText.addClass("helper-text--success"),n.parentContainer.removeClass("has-error"),n.helperText.html(e)},displayHelpText:function(e){n.helperText.removeClass("helper-text--success"),n.inputParent.removeClass("mdc-text-field--invalid"),n.parentContainer.removeClass("has-error"),n.helperText.html(e)}},o=null;n.input.on("keyup",function(e){n.displayHelpText("Checking availability"),clearTimeout(o),o=setTimeout(function(){e.target.value&&0<e.target.value.length&&function(r){$.ajax({type:"GET",url:"https://167.71.234.131:3000/status/".concat(r),success:function(e){n.displayError("".concat(r," is unavailable"))},error:function(e,a,t){404==e.status&&n.displaySuccess("".concat(r," is available"))}})}(e.target.value)},500)});var d={input:$("#cruxpayPassword"),helperText:$("#cruxpay-password__helper-text"),inputParent:$(".cruxpay-password__container"),parentContainer:$(".cruxpay-password__container").parent(),validation:{isValid:function(e){return/^[a-zA-Z0-9$@!#^&%_-]{8,50}$/.test(String(e).toLowerCase())},containsId:function(e){return e===n.input.val()},hasDigit:function(e){return/[0-9]/.test(e)},hasLowerCase:function(e){return/[a-z]/.test(e)},hasUpperCase:function(e){return/[A-Z]/.test(e)},hasSpecialCharacter:function(e){return/(?=.*[!#$%&?@"])/.test(e)}},displayError:function(e){this.helperText.removeClass("helper-text--success"),this.inputParent.addClass("mdc-text-field--invalid"),this.parentContainer.addClass("has-error"),this.helperText.html(e)},clearAllError:function(){this.helperText.addClass("helper-text--success"),this.inputParent.removeClass("mdc-text-field--invalid"),this.parentContainer.removeClass("has-error"),this.helperText.html("")},toggleValidationBlock:function(e){e?$(".validation-rules").css("opacity",1):$(".validation-rules").css("opacity",0)},setValidation:function(e,a){var t=$("#validation-".concat(e));t&&0<t.length&&(a?(t.removeClass("rule-isInvalid"),t.addClass("rule-isValid")):(t.addClass("rule-isInvalid"),t.removeClass("rule-isValid")))}};d.input.on("keyup",function(e){if(d.toggleValidationBlock(!0),e.target.value&&0<e.target.value.length){var a=e.target.value;d.validation.isValid(a)?(d.setValidation("charLen",!0),d.validation.containsId(a)?(d.setValidation("sameAsId",!1),d.displayError("Password must be different from CruxPay ID")):(d.setValidation("sameAsId",!0),d.validation.hasDigit(a)?(d.setValidation("digit",!0),d.validation.hasLowerCase(a)?(d.setValidation("lowercase",!0),d.validation.hasUpperCase(a)?(d.setValidation("uppercase",!0),d.validation.hasSpecialCharacter(a)?(d.setValidation("specialCharater",!0),d.toggleValidationBlock(!1),d.clearAllError()):(d.setValidation("specialCharater",!1),d.displayError("Password must be have atleast one of following special characters !,#,$,%,&,?,@ are allowed"))):(d.setValidation("uppercase",!1),d.displayError("Password must be have atleast one uppercase letter"))):(d.setValidation("lowercase",!1),d.displayError("Password must be have atleast one lowercase letter"))):(d.setValidation("digit",!1),d.displayError("Password must be have atleast one number")))):(d.setValidation("charLen",!1),d.displayError("Minimum length required is 8. Only following special characters !,#,$,%,&,?,@ are allowed"))}})});